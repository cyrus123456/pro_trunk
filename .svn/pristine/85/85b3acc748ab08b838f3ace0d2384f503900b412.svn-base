webpackJsonp([5],{"+bt0":function(e,n,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.app-container[data-v-c9a448e4] {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.app-container-bg[data-v-c9a448e4] {\n  border-top: none;\n}\n.tabs-content-item[data-v-c9a448e4] {\n  padding: 20px;\n}\n.pageName[data-v-c9a448e4] {\n  text-align: center;\n  font-size: 24px;\n  padding: 5px 0;\n  border-bottom: 1px solid #E9892D;\n  margin-bottom: 10px;\n}\n",""])},ASMa:function(e,n,o){(e.exports=o("FZ+f")(!1)).push([e.i,'\n@charset "UTF-8";\n/*$menuBg:#7171C6;\n$subMenuBg:#7171C6;\n$menuHover:#473C8B;*/\n.app-main {\n  background-color: #F5F6FA;\n}\n#app .main-container-onlyShow {\n  margin-left: 0;\n}\n.app-container-bg {\n  position: relative;\n  background-color: #FFF;\n  /* padding: 0 20px; */\n  border: 1px solid #ebeef5;\n}\n.form-container {\n  margin-right: 20px;\n}\n.el-collapse-item__header {\n  margin-bottom: 0px;\n  padding: 0 20px;\n  font-weight: 700;\n}\n.el-collapse-item__header.is-active {\n  border-bottom-color: #ebeef5;\n  margin-bottom: 20px;\n}\n.el-row {\n  margin-left: 0 !important;\n  margin-right: 0 !important;\n  /*margin-bottom: 20px;*/\n}\n.el-row:last-child {\n    margin-bottom: 0;\n}\n.el-col {\n  border-radius: 4px;\n}\n.column-5 {\n  float: left;\n  width: 20%;\n}\n.column-6 {\n  width: 27%;\n  float: left;\n  margin-left: 20px;\n}\n.column-5-2 {\n  width: 40%;\n}\n.column-5-3 {\n  width: 60%;\n}\n.column-5-4 {\n  width: 80%;\n}\n.column-5-offset-1 {\n  margin-left: 20%;\n}\n.column-5-offset-2 {\n  margin-left: 40%;\n}\n.column-5-offset-3 {\n  margin-left: 60%;\n}\n.column-5-offset-4 {\n  margin-left: 80%;\n}\n.column-4 {\n  width: 25%;\n}\ntd.SerialNumber {\n  border-right: 1px solid #ebeef5;\n}\n.bg-purple-dark {\n  /*background: #99a9bf;*/\n}\n.bg-purple {\n  background: #d3dce6;\n}\n.bg-purple-light {\n  background: #e5e9f2;\n}\n.grid-content {\n  border-radius: 4px;\n}\n.row-bg {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n.tabs-container {\n  position: relative;\n  margin-bottom: 25px;\n}\n.tabs-container .tabs-container-left {\n  line-height: 50px;\n  padding-left: 50px;\n  font-weight: 700;\n  color: #000;\n  position: relative;\n}\n.tabs-container .tabs-container-left:after {\n  content: "";\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #e4e7ed;\n  z-index: 1;\n}\n.tabs-container .tabs-container-center {\n  position: relative;\n  margin-left: -104px;\n  height: 50px;\n  border-bottom: 2px solid #e4e7ed;\n}\n.tabs-container .tabs-container-center:after {\n  display: block;\n  clear: both;\n  content: "";\n  visibility: hidden;\n}\n.tabs-container .tabs-container-right {\n  height: 50px;\n  line-height: 50px;\n  padding-right: 20px;\n  font-weight: 700;\n  color: #000;\n  position: relative;\n}\n.tabs-container .tabs-container-right:after {\n  content: "";\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #e4e7ed;\n  z-index: 1;\n}\n.tabs-container .el-tabs__nav {\n  /*float: none;*/\n  width: 300px;\n}\n.tabs-container .el-tabs__item {\n  height: 50px;\n  line-height: 50px;\n  width: 140px;\n  padding-left: 20px !important;\n  padding-right: 20px !important;\n}\n.tabs-container .el-tabs__item.is-active {\n  color: #2496FF;\n}\n.tabs-container .el-tabs__active-bar {\n  background-color: #E9892D;\n  width: 120px !important;\n  height: 4px;\n}\n.tabs-container .el-tabs__item:hover {\n  color: #2496FF;\n}\n/*.tabs-container .el-tabs--top .el-tabs__item.is-top:last-child.is-active~.el-tabs__active-bar{\n  transform: translateX(140px)!important;\n}*/\n/*form表单l*/\n.form-base {\n  padding: 0 20px;\n}\n.form-bg {\n  background: #F8F8FB;\n  padding-top: 20px;\n}\n/*日期输入域宽度自适应*/\n.form-base .el-date-editor.el-input, .form-base .el-date-editor.el-input__inner {\n  width: 100%;\n}\n/*表单带单位的输入框*/\n.form-unit .el-input-group--append .el-input__inner, .form-unit .el-input-group__prepend {\n  padding-right: 38px;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.form-unit .el-input-group--prepend .el-input__inner, .form-unit .el-input-group__append {\n  background-color: #fff;\n  padding: 0 5px;\n  position: absolute;\n  right: 1px;\n  top: 1px;\n  height: 34px;\n  line-height: 34px;\n  width: auto;\n  border: none;\n}\n/*form表单label右padding*/\n.el-form-item__label {\n  padding: 0 0 0 0;\n  font-weight: 500;\n}\n/*多选框无label处理*/\n.checkbox-no-label {\n  padding-left: 30px;\n}\n/*表单中按钮无label处理*/\n.button-no-label {\n  text-align: right;\n}\n.button-base {\n  color: #fff;\n  background-color: #E9892D;\n  border-color: #E9892D;\n}\n.button-base:hover, .button-base:active, .button-base:focus {\n    color: #fff;\n    background-color: #E9892D;\n    border-color: #E9892D;\n}\n.button-form-query {\n  width: 130px;\n}\n.button-form-small {\n  width: 80px;\n}\n.input-search-base {\n  margin-left: 10%;\n  width: 90%;\n}\n.input-search-base.input-word-limit .el-input__inner {\n    padding-right: 30px;\n}\n.checkbox-base .ml-row {\n  margin-left: 0px;\n  margin-right: 0px;\n  width: 50%;\n  float: left;\n}\n.el-select .el-input__inner:focus,\n.el-select .el-input.is-focus .el-input__inner {\n  border-color: #E9892D;\n}\n.el-select .el-input.is-disabled .el-input__inner {\n  height: 36px !important;\n}\n.table-base {\n  position: relative;\n  padding: 0 20px;\n}\n.table-base thead {\n  color: #000;\n  font-weight: 500;\n}\n.table-base th {\n  padding: 12px 5px;\n}\n.table-base td {\n  padding: 12px 5px;\n}\n.table-base th {\n  background-color: #F4F5F9;\n}\n.table-base .el-table .cell {\n  white-space: nowrap;\n}\n.table-base .el-table .cell .table-cell-underline {\n    color: #E9892D;\n    text-decoration: underline;\n    cursor: pointer;\n}\n.table-operate {\n  color: #E9892D;\n  text-align: center;\n}\n.button-table-operate {\n  color: #E9892D;\n}\n.button-table-operate:hover, .button-table-operate:focus, .button-table-operate:active {\n    color: #E9892D;\n}\n.button-table-upload {\n  color: #606266;\n}\n.table-operate-item.el-dropdown-menu__item:focus, .el-dropdown-menu__item:not(.is-disabled):hover {\n  background-color: #FEF9F4;\n  color: #E9892D;\n}\n.table-operate .el-icon-arrow-down:before {\n  content: "";\n}\n.table-operate.el-dropdown-selfdefine {\n  cursor: pointer;\n}\n.hearderName {\n  background-color: #f3f3f3;\n}\n.hearderList {\n  background-color: #f9f9f9;\n}\n.el-table td.hearderName {\n  text-align: center;\n}\n.el-table--enable-row-hover .el-table__body tr:hover > td.hearderName {\n  background-color: #f3f3f3;\n}\n.el-table--enable-row-hover .el-table__body tr:hover > td.hearderList {\n  background-color: #f9f9f9;\n}\n.color-blue {\n  color: #6AA4E7;\n}\n.color-orange {\n  color: #E9892D;\n}\n.color-green {\n  color: #A2E05F;\n}\n.color-gray {\n  color: #DCDFE6;\n}\n.color-ccc {\n  color: #ccc;\n}\n.pagination-base {\n  margin: 20px;\n  position: relative;\n}\n.pagination-base:after {\n  display: block;\n  clear: both;\n  content: "";\n  visibility: hidden;\n}\n.pagination-base .el-pagination {\n  text-align: right;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n.pagination-base .pagination-total {\n  float: left;\n  line-height: 28px;\n  font-size: 13px;\n  color: #606266;\n}\n.pagination-base .pagination-button {\n  float: left;\n  padding: 7px 12px;\n  min-width: 110px;\n  background-color: #fff;\n  color: #E9892D;\n  border: 1px solid #E9892D;\n  margin-left: 0px;\n  margin-right: 20px;\n}\n.pagination-base .pagination-button.is-disabled, .pagination-base .pagination-button.is-disabled:focus, .pagination-base .pagination-button.is-disabled:hover {\n    color: #c0c4cc;\n    cursor: not-allowed;\n    background-image: none;\n    background-color: #fff;\n    border-color: #ebeef5;\n}\n.pagination-base .el-pager li.active {\n  color: #409EFF;\n  cursor: default;\n  background-color: #E9892D;\n  border-radius: 2px;\n  color: #fff;\n}\n.pagination-upload-container {\n  float: left;\n}\n.multiple-upload-con {\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 1;\n}\n.pagination-base .multiple-upload-con-disable {\n  color: #c0c4cc;\n  background-image: none;\n  background-color: #fff;\n  border-color: #ebeef5;\n}\n.pagination-base .multiple-upload-con-disable input:hover {\n    cursor: not-allowed;\n}\n.multiple-upload-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 110px;\n  height: 100%;\n  opacity: 0;\n  cursor: pointer;\n}\n.el-dialog__title {\n  color: #1890FF;\n  font-size: 16px;\n  font-weight: bold;\n}\n.el-dialog__body {\n  padding: 20px 20px;\n}\n.import-dialog .el-dialog__body {\n  padding-top: 10px;\n  padding-bottom: 40px;\n}\n.detail-con {\n  border: 1px solid #D3D3D3;\n  border-top: none;\n  background-color: #F6F6F7;\n}\n.dialog-detail:first-child {\n  border-top: 1px solid #D3D3D3;\n}\n.dialog-detail-form .form-base {\n  padding: 0;\n}\n.detail-con-label {\n  color: #5B5B5B;\n  line-height: 30px;\n  padding: 10px 20px;\n  font-weight: bold;\n}\n.detail-con-content {\n  min-height: 50px;\n  border-left: 1px solid #D3D3D3;\n  line-height: 30px;\n  padding: 10px 20px;\n  background-color: #fff;\n}\n.brief-icon {\n  padding: 4px;\n  border-radius: 3px;\n  color: #fff;\n  font-weight: 500;\n}\n.brief-icon.brief-icon-word {\n    background-color: #005ECB;\n}\n.brief-icon.brief-icon-pdf {\n    background-color: #D0021B;\n    padding: 4px 7px;\n}\n.brief-icon.brief-icon-ppt {\n    background-color: #F55523;\n    padding: 4px 7px;\n}\n.brief-title {\n  text-decoration: underline;\n  text-underline-color: red;\n  font-size: 14px;\n}\n.button-brief-download, .button-brief-view {\n  font-size: 13px;\n  color: #E9892D;\n}\n.button-brief-download:hover, .button-brief-download:focus, .button-brief-download:active, .button-brief-view:hover, .button-brief-view:focus, .button-brief-view:active {\n    color: #E9892D;\n}\n.button-brief-download {\n  margin-left: 20px;\n}\n.button-brief-splitLine {\n  position: relative;\n  margin: 0 5px;\n  top: -1px;\n  font-size: 12px;\n}\n.view-conent .el-textarea.is-disabled .el-textarea__inner {\n  background-color: #fff;\n  color: #606266;\n  cursor: auto;\n}\n.view-conent-con {\n  padding: 20px;\n  border: 1px solid #606266;\n  line-height: 25px;\n}\n.dialog-footer-finish:before, .dialog-footer-finish:after {\n  display: block;\n  clear: both;\n  content: "";\n  visibility: hidden;\n}\n.button-dialog-inner-left {\n  float: left;\n}\n.el-radio__input.is-checked .el-radio__inner {\n  border-color: #cf9236;\n  background: #cf9236;\n}\n.el-radio__input.is-checked + .el-radio__label {\n  color: #606266;\n}\n.el-textarea .el-textarea__inner {\n  resize: none;\n}\n.iframe {\n  width: 100%;\n  height: 100%;\n  border: 0;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.grid-content.marginR-20 .el-form-item__content {\n  margin-right: 20px;\n}\n.file-list {\n  border: 1px dashed #DCDFE6;\n  background-color: #F8F8FB;\n}\n.file-list .brief-item {\n  float: left;\n  width: 50%;\n  margin-left: 0;\n  margin-right: 0;\n}\n.custome-link-class {\n  color: #a0a0a0;\n  font-size: 16px;\n  -webkit-transform: rotate(-135deg);\n          transform: rotate(-135deg);\n}\n/* .ml-row{\n  margin-left: 0px;\n  margin-right: 0px;\n  width: 50%;\n  float: left;\n}*/\n/*.detail-con-content {\n  border-left: 0;\n}*/\n.button-submit-con {\n  margin-top: 30px;\n  margin-bottom: 30px;\n}\n.button-submit-con.button-submit-con-small {\n    margin-top: 0;\n}\n.el-row.button-submit-con:last-child {\n  margin-bottom: 30px;\n}\n.button-submit {\n  width: 100px;\n  background-color: #E9892D;\n  border-color: #E9892D;\n  color: #fff;\n}\n.button-submit:active, .button-submit:focus, .button-submit:hover {\n    background-color: #E9892D;\n    border-color: #E9892D;\n    color: #fff;\n}\n.button-back {\n  width: 100px;\n  background-color: #F8F8FB;\n  border-color: #DCDFE6;\n  color: #606266;\n}\n.button-back:active, .button-back:focus, .button-back:hover {\n    background-color: #F8F8FB;\n    border-color: #DCDFE6;\n    color: #606266;\n}\n.button-primary {\n  width: 100px;\n  background: none;\n  border-color: #E9892D;\n  color: #E9892D;\n}\n.button-primary:active, .button-primary:focus, .button-primary:hover {\n    background: none;\n    border-color: #E9892D;\n    color: #E9892D;\n}\n.fr {\n  float: right;\n}\n.tabs-panel {\n  margin: 20px;\n  background-color: #F8F8FB;\n}\n.el-checkbox__input.is-checked + .el-checkbox__label {\n  color: #cf9236;\n}\n.el-checkbox__input.is-checked .el-checkbox__inner, .el-checkbox__input.is-indeterminate .el-checkbox__inner {\n  background-color: #cf9236;\n  border-color: #cf9236;\n}\n.dialog-footer-finish .el-radio-button__orig-radio:checked + .el-radio-button__inner {\n  background-color: #e6a23c;\n  border-color: #e6a23c;\n  box-shadow: #e6a23c;\n  -webkit-box-shadow: #e6a23c;\n}\n.el-radio-button__inner:hover {\n  color: #e6a23c;\n}\n.el-divider {\n  background-color: #E9892D;\n}\n.el-range-editor--small .el-range-separator {\n  width: 30px;\n  line-height: 24px;\n  font-size: 13px;\n}\n.numberVal {\n  position: absolute;\n  right: 5px;\n  bottom: 0;\n}\n.el-date-range-picker__editors-wrap .el-date-range-picker__time-picker-wrap:nth-child(2) {\n  opacity: 0;\n}\n.val {\n  position: absolute;\n  right: -500px;\n  bottom: 0;\n  color: #AAA;\n}\n.el-tooltip__popper {\n  max-width: 90%;\n}\n.money_color .el-input.is-disabled .el-input__inner {\n  color: red;\n}\n.shuiyin {\n  position: absolute;\n  top: 100px;\n  left: 50%;\n  margin-left: -100px;\n  width: 200px;\n  height: 80px;\n  line-height: 80px;\n  text-align: center;\n  border: 1px solid #FFEFD5;\n  color: #E9892D;\n  z-index: 100;\n  background-color: rgba(255, 239, 213, 0.2);\n  -webkit-transform: rotate(-20deg);\n          transform: rotate(-20deg);\n}\n.el-icon-my-export {\n  background: url(/src/assets/images/menu-export.png) center no-repeat;\n  background-size: cover;\n}\n.el-icon-my-export:before {\n  content: "\\66FF";\n  font-size: 16px;\n  visibility: hidden;\n}\n.tree-icon {\n  background: url(/src/assets/images/tree-icon.png) center no-repeat;\n  background-size: cover;\n}\n.tree-icon:before {\n  content: "\\66FF";\n  font-size: 16px;\n  visibility: hidden;\n}\n.form-bottom-button {\n  padding: 0 20px;\n  text-align: center;\n}\n.pagination-upload-container {\n  float: left;\n}\n.table-select-width-full .el-table td div.el-select {\n  width: 100%;\n}\n',""])},"FJ/w":function(e,n,o){var t=o("+bt0");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o("rjj0")("02f420d5",t,!0,{})},NR3G:function(e,n,o){var t=o("ASMa");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o("rjj0")("2589fcf3",t,!0,{})},bU7r:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o("pFYg"),a=o.n(t),r=o("fZjL"),i=o.n(r),l=o("mvHQ"),s=o.n(l),c=o("woOf"),d=o.n(c),u=(o("NYxO"),o("TIfe")),p=(o("E4LH"),o("OHf6")),m=o("RRIi"),b=o("ZbEn");o("t5DY");o("aOHy");var g={components:{nxUploadExcelComponent:m.a},props:[],mixins:[p.a],computed:{},watch:{},activated:function(){console.log("activated this.$route.meta.keepAlive",this.$route.meta.keepAlive)},beforeRouteLeave:function(e,n,o){o()},created:function(){console.log("created this.$router.query",this.$route.query.initData),"1"===Object(u.a)("oaAuto-Token").docStatus?this.docStatus=!0:this.docStatus=!1,this.initPage()},data:function(){return{showloading:!1,docStatus:!0,pageContent:"",checked:!1,chkComCode:!1,options:[],value:[],valueComCode:[],optionsSystemCode:[],optionsSystemName:[],optionsComCode:[],optionsUserName:[],optionsUserCode:[],optionsGradeCode:[],optionsGradeName:[],list:[],optionsCode:[],listComCode:[],loading:!1,loadingSystemCode:!1,loadingSystemName:!1,loadingComCode:!1,loadingUserName:!1,loadingUserCode:!1,loadingGradeCode:!1,loadingGradeName:!1,sels:[],queryform:{},queryformRules:{},results:[],pagination:{total:0,pageSize:"10",currentPage:1}}},methods:{initPage:function(e){var n=[];Object(u.a)("oaAutoEhrBand")&&Object(u.a)("oaAutoEhrBand").length>0&&Object(u.a)("oaAutoEhrBand").forEach(function(e){var o={};o=d()(o,e,{optionsSystemCode:[],optionsSystemName:[],optionsUserName:[],optionsUserCode:[],loadingSystemCode:!1,loadingSystemName:!1,loadingUserName:!1,loadingUserCode:!1}),n.push(o)}),this.results=n},initData:function(){var e=this;Object(b.m)({actionType:"query",codeType:"upGradesInitData"}).then(function(n){console.log("pageContent",n);var o=[];n.codeValues&&n.codeValues.length>0&&n.codeValues.forEach(function(e){var n={};n=d()(n,e,{optionsComCode:[],optionsComName:[],optionsUserName:[],optionsUserCode:[],optionsGradeCode:[],optionsGradeName:[],loadingComCode:!1,loadingComName:!1,loadingUserName:!1,loadingUserCode:!1,loadingGradeCode:!1,loadingGradeName:!1}),o.push(n)}),e.results=o}).catch(function(e){console.log(e)})},handleAdd:function(){this.results.push({hrno:"",systemcode:"",systemname:"",usercname:"",optionsSystemCode:[],optionsSystemName:[],optionsUserName:[],optionsUserCode:[],loadingSystemName:!1,loadingSystemCode:!1,loadingUserName:!1,loadingUserCode:!1})},handleDelete:function(e,n){this.$delete(this.results,e),console.log("this.results",this.results)},handleCopy:function(e,n){var o=JSON.parse(s()(n));this.results.splice(e+1,0,o)},handleTemplateDownload:function(){var e=this;Promise.all([o.e(17),o.e(16)]).then(o.bind(null,"zWO4")).then(function(n){var o=e.formatJson(["hrno","systemcode","usercode"],[{hrno:"B201902060001",systemcode:"P027",usercode:"02000001"},{hrno:"B201902060002",systemcode:"P027",usercode:"02000002"},{hrno:"B201902060003",systemcode:"P027",usercode:"02000003"}]);n.export_json_to_excel({header:["人力工号","系统代码","工号"],data:o,filename:"EHR工号绑定",headerStyle:{color:"000000",fgColor:"BDD7EE",column:["A1","B1","C1"]}})})},formatJson:function(e,n){return n.map(function(n){return e.map(function(e){return n[e]})})},beforeUpload:function(e){var n=e.name,o=n.lastIndexOf("."),t=n.substr(o+1);return"xlsx"===t||"xls"===t||(this.$message({message:"请选择excel文件进行上传！",type:"warning"}),!1)},handleSuccess:function(e){var n=this,o=e.results,t=e.header;console.log("results",o),console.log(t),this.tableData=o,this.tableHeader=t;var r=[],l=!0;if(0===o.length)return this.$message({message:"请至少导入一条数据！",type:"warning"}),l=!1,!1;if(o.length>0){if(o.length>30)return this.$message({message:"每次最多可导入30条数据！",type:"warning"}),!1;if(o.length+this.results.length>30)return this.$message({message:"每次最多可申请30条数据！",type:"warning"}),!1;if(o.map(function(e){return i()(e).forEach(function(n){console.log(n,e[n]),console.log(n,a()(e[n])),e[n]=e[n].toString().trim()}),e}),o.every(function(e,n){return console.log("index",n),console.log(e),r.push({hrno:e["人力工号"],systemcode:e["系统代码"],usercode:e["工号"]}),!0}),!l)return!1;this.showloading=!0,Object(b.d)({actionType:"infoSupply",fieldValue:"upMidEhrNoMessage",info:r}).then(function(e){console.log(e),n.showloading=!1;e.codeValues&&e.codeValues.length>0&&e.codeValues.forEach(function(e){var o={};o=d()(o,e,{optionsSystemCode:[],optionsSystemName:[],optionsUserName:[],optionsUserCode:[],loadingSystemCode:!1,loadingSystemName:!1,loadingUserName:!1,loadingUserCode:!1}),n.results.push(o)})}).catch(function(e){n.showloading=!1,console.log(e)})}},validateUpload:function(e,n){},commitData:function(){var e=this;console.log("commitData",this.results);var n=[],o=!0;return 0===this.results.length?(this.$message({message:"请至少录入一条数据！",type:"warning"}),o=!1,!1):this.results.length>30?(this.$message({message:"每次最多申请30条数据！",type:"warning"}),o=!1,!1):(this.results.forEach(function(t,a){var r=JSON.parse(s()(t));return t.hrno?t.systemcode?t.systemname?t.usercode?t.usercname?(n.push({hrno:r.hrno,systemcode:r.systemcode,systemname:r.systemname,usercode:r.usercode,usercname:-1!==r.usercname.indexOf("--")?r.usercname.split("--")[1]:r.usercname}),!0):(e.$message({message:"第"+(a+1)+"条姓名不能为空！",type:"warning"}),o=!1,!1):(e.$message({message:"第"+(a+1)+"条工号不能为空！",type:"warning"}),o=!1,!1):(e.$message({message:"第"+(a+1)+"条系统名称不能为空！",type:"warning"}),o=!1,!1):(e.$message({message:"第"+(a+1)+"条系统代码不能为空！",type:"warning"}),o=!1,!1):(e.$message({message:"第"+(a+1)+"条人力工号不能为空！",type:"warning"}),o=!1,!1)}),console.log("校验",o),o?(console.log("正式踢几脚啦"),void Object(b.o)({actionType:"upMidEhrNoMessage",fdid:Object(u.a)("oaAuto-Token").fdid,docCreator:Object(u.a)("oaAuto-Token").docCreator,info:n}).then(function(n){console.log(n),e.showloading=!1,e.$message({message:"EHR工号绑定成功！",type:"warning",duration:2e3});var o=e;setTimeout(function(){o.closePage()},2e3)}).catch(function(n){e.showloading=!1,console.log(n)})):(this.showloading=!1,!1))},resetList:function(){this.pagination.currentPage=1,this.pagination.count=0},checkUserCode:function(){return this.queryform.comCode?this.queryform.userCode?void 0:(this.$message({message:"请先选择工号！",type:"warning",duration:2e3}),!1):(this.$message({message:"请先选择登录机构！",type:"warning",duration:2e3}),!1)},resetUserName:function(e,n){n.usercname="",n.optionsUserName=[]},resetUserCode:function(e,n){n.usercode="",n.optionsUserCode=[]},resetGradeCode:function(){this.$set(this.queryform,"utiUserGradeGradeCode","")},resetGradeName:function(){this.$set(this.queryform,"utiUserGradeGradeCode","")},selectChange:function(e){console.log("value",e),this.getLists(e)},selectChangeSystemCode:function(e,n,o){console.log("selectChangeUserCode",e);for(var t=0;t<o.optionsSystemCode.length;t++)if(o.optionsSystemCode[t].value===e)return o.systemname=o.optionsSystemCode[t].attachData.split("--")[1],o.optionsSystemName=[{value:o.optionsSystemCode[t].attachData.split("--")[1],label:o.optionsSystemCode[t].attachData.split("--")[1]}],!1},selectChangeSystemName:function(e,n,o){console.log("selectChangeUserName",e);for(var t=0;t<o.optionsSystemName.length;t++)if(o.optionsSystemName[t].value===e)return o.systemcode=o.optionsSystemName[t].attachData.split("--")[0],o.optionsSystemCode=[{value:o.optionsSystemName[t].attachData.split("--")[0],label:o.optionsSystemName[t].attachData.split("--")[0]}],!1},selectChangeComCode:function(e,n,o){console.log("selectChangeUserCode",e),this.resetUserName(n,o),this.resetUserCode(n,o);for(var t=0;t<o.optionsComCode.length;t++)if(o.optionsComCode[t].value===e)return o.comcname=o.optionsComCode[t].attachData.split("--")[1],o.optionsComName=[{value:o.optionsComCode[t].attachData.split("--")[1],label:o.optionsComCode[t].attachData.split("--")[1]}],!1},selectChangeComName:function(e,n,o){console.log("selectChangeUserName",e),this.resetUserName(n,o),this.resetUserCode(n,o);for(var t=0;t<o.optionsComName.length;t++)if(o.optionsComName[t].value===e)return o.comcode=o.optionsComName[t].attachData.split("--")[0],o.optionsComCode=[{value:o.optionsComName[t].attachData.split("--")[0],label:o.optionsComName[t].attachData.split("--")[0]}],!1},selectChangeUserCode:function(e,n,o){console.log("selectChangeUserCode",e);for(var t=0;t<o.optionsUserCode.length;t++)if(o.optionsUserCode[t].value===e)return o.usercname=o.optionsUserCode[t].attachData,o.optionsUserName=[{value:o.optionsUserCode[t].attachData,label:o.optionsUserCode[t].attachData.split("--")[1]}],!1},selectChangeUserName:function(e,n,o){console.log("selectChangeUserName",e);for(var t=0;t<o.optionsUserName.length;t++)if(o.optionsUserName[t].value===e)return o.usercode=o.optionsUserName[t].attachData.split("--")[0],o.optionsUserCode=[{value:o.optionsUserName[t].attachData.split("--")[0],label:o.optionsUserName[t].attachData.split("--")[0]}],!1},selectChangeGradeCode:function(e,n,o){for(var t=0;t<o.optionsGradeCode.length;t++)if(o.optionsGradeCode[t].value===e)return o.gradename=o.optionsGradeCode[t].attachData.split("--")[1],o.optionsGradeName=[{value:o.optionsGradeCode[t].attachData.split("--")[1],label:o.optionsGradeCode[t].attachData.split("--")[1]}],!1},selectChangeGradeName:function(e,n,o){for(var t=0;t<o.optionsGradeName.length;t++)if(o.optionsGradeName[t].value===e)return o.gradecode=o.optionsGradeName[t].attachData.split("--")[0],o.optionsGradeCode=[{value:o.optionsGradeName[t].attachData.split("--")[0],label:o.optionsGradeName[t].attachData.split("--")[0]}],!1},getLists:function(e){var n=this;if(!this.queryform.systemCode)return this.$message({message:"请先选择系统！",type:"warning",duration:2e3}),!1;var o={pageNo:this.pagination.currentPage,rowsPerPage:this.pagination.pageSize,systemCode:this.queryform.systemCode,comCode:this.queryform.comCode,chkComCode:this.queryform.chkComCode,utiUserGradeGradeCode:this.queryform.utiUserGradeGradeCode,actionType:"querySystemPostList"};Object(b.c)(o).then(function(e){console.log("querySystemPostList",e),n.queryDisable=!1,n.pagination.total=e.count,n.results=e.userPostList,n.results.length||n.$message.error("当前查询条件下暂无数据")}).catch(function(e){console.log(e)})},remoteMethodSystemCode:function(e,n,o){""!==e?(o.loadingSystemCode=!0,Object(b.l)({actionType:"query",codeType:"systemRemarkCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingSystemCode=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsSystemCode=e.codeLabels.map(function(e){return{value:e.split("--")[0],label:e.split("--")[0],attachData:e}}):o.optionsSystemCode=[]}).catch(function(e){console.log(e)})):o.optionsSystemCode=[]},remoteMethodSystemName:function(e,n,o){""!==e?(o.loadingSystemName=!0,Object(b.l)({actionType:"query",codeType:"systemRemarkCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingSystemName=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsSystemName=e.codeLabels.map(function(e){return{value:e.split("--")[1],label:e.split("--")[1],attachData:e}}):o.optionsSystemName=[]}).catch(function(e){console.log(e)})):o.optionsSystemName=[]},remoteMethodComCode:function(e,n,o){""!==e?(o.loadingComCode=!0,Object(b.a)({actionType:"query",codeType:"comCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingComCode=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsComCode=e.codeLabels.map(function(e){return{value:e.split("--")[0],label:e.split("--")[0],attachData:e}}):o.optionsComCode=[]}).catch(function(e){console.log(e)})):o.optionsComCode=[]},remoteMethodComName:function(e,n,o){""!==e?(o.loadingComName=!0,Object(b.a)({actionType:"query",codeType:"comCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingComName=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsComName=e.codeLabels.map(function(e){return{value:e.split("--")[1],label:e.split("--")[1],attachData:e}}):o.optionsComName=[]}).catch(function(e){console.log(e)})):o.optionsComName=[]},remoteMethodUserCode:function(e,n,o){""!==e?(o.loadingUserCode=!0,Object(b.p)({actionType:"query",codeType:"userCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingUserCode=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsUserCode=e.codeLabels.map(function(e){return{value:e.split("--")[0],label:e.split("--")[0],attachData:e}}):o.optionsUserCode=[]}).catch(function(e){console.log(e)})):o.optionsUserCode=[]},remoteMethodUserName:function(e,n,o){""!==e?(o.loadingUserName=!0,Object(b.p)({actionType:"query",codeType:"userCode",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingUserName=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsUserName=e.codeLabels.map(function(e){return{value:e,label:e.split("--")[1],attachData:e}}):o.optionsUserName=[]}).catch(function(e){console.log(e)})):o.optionsUserName=[]},remoteMethodGradeCode:function(e,n,o){console.log("query",e),o.loadingGradeCode=!0,Object(b.i)({actionType:"query",codeType:"queryUserGrade",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingGradeCode=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsGradeCode=e.codeLabels.map(function(e){return{value:e.split("--")[0],label:e.split("--")[0],attachData:e}}):o.optionsGradeCode=[]}).catch(function(e){console.log(e)})},remoteMethodGradeName:function(e,n,o){console.log("query",e),o.loadingGradeName=!0,Object(b.i)({actionType:"query",codeType:"queryUserGrade",fieldValue:e}).then(function(e){console.log("pageContent",e),o.loadingGradeName=!1,e.codeLabels&&e.codeLabels.length>0?o.optionsGradeName=e.codeLabels.map(function(e){return{value:e.split("--")[1],label:e.split("--")[1],attachData:e}}):o.optionsGradeName=[]}).catch(function(e){console.log(e)})},querygradesBymenuName:function(){var e=this.$router.resolve({path:"/oaAutoGradesMenu"});window.open(e.href,"_blank")},listExport:function(){Object(b.g)({actionType:"querySystemPostListExportExcel",systemCode:this.queryform.systemCode,comCode:this.queryform.comCode,utiUserGradeGradeCode:this.queryform.utiUserGradeGradeCode,chkComCode:this.queryform.chkComCode})},closePage:function(){window.open("about:blank","_top").close()},unloadFn:function(){Object(u.d)("reloadFlag",{name:"oaAutoEhrBand"})},beforeunloadFn:function(){Object(u.d)("reloadFlag",{name:"oaAutoEhrBand"})}},mounted:function(){var e=this;window.addEventListener("beforeunload",function(n){return e.beforeunloadFn()}),window.addEventListener("unload",function(n){return e.unloadFn()})},destroyed:function(){var e=this;window.removeEventListener("beforeunload",function(n){return e.beforeunloadFn()}),window.removeEventListener("unload",function(n){return e.unload()})}},f={render:function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"app-container-bg"},[o("section",{staticClass:"tabs-content-item"},[o("div",{staticClass:"pageName"},[e._v("EHR工号绑定")]),e._v(" "),o("div",{staticClass:"form-base input-width-auto"},[o("vue-element-loading",{attrs:{active:e.showloading,spinner:"bar-fade-scale","is-full-screen":!0,text:"数据处理中，请耐心等待...",color:"#E9892D","background-color":"rgba(255, 255, 255, .5)"}}),e._v(" "),o("el-form",{ref:"queryform",staticClass:"form",attrs:{autoComplete:"on","label-position":"right","label-width":"150px","label-suffix":"：",size:"medium"}},[o("el-row",[o("el-col",{attrs:{span:8,offset:16}},[o("div",{staticClass:"grid-content bg-purple-dark"},[o("el-form-item",{attrs:{"label-width":"0px"}},[o("div",{staticClass:"button-no-label"},[e.docStatus?o("el-button",{staticClass:"button-base button-form-query button-form-small",attrs:{type:"primary"},on:{click:function(n){return e.handleAdd()}}},[e._v("新增")]):e._e()],1)])],1)])],1)],1)],1),e._v(" "),o("div",{staticClass:"table-base table-select-width-full"},[o("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.results,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60",fixed:"left","class-name":"SerialNumber"}}),e._v(" "),o("el-table-column",{attrs:{prop:"hrno",label:"人力工号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-input",{attrs:{type:"text",disabled:!e.docStatus},model:{value:n.row.hrno,callback:function(o){e.$set(n.row,"hrno","string"==typeof o?o.trim():o)},expression:"scope.row.hrno"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"systemcode",label:"系统代码",width:"200"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-select",{attrs:{disabled:!e.docStatus,filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":function(o){e.remoteMethodSystemCode(o,n.$index,n.row)},loading:n.row.loadingSystemCode},on:{change:function(o){e.selectChangeSystemCode(o,n.$index,n.row)}},model:{value:n.row.systemcode,callback:function(o){e.$set(n.row,"systemcode",o)},expression:"scope.row.systemcode"}},e._l(n.row.optionsSystemCode,function(e,t){return o("el-option",{key:e.value+t+n.$index,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"systemname",label:"系统名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-select",{attrs:{disabled:!e.docStatus,filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":function(o){e.remoteMethodSystemName(o,n.$index,n.row)},loading:n.row.loadingSystemName},on:{change:function(o){e.selectChangeSystemName(o,n.$index,n.row)}},model:{value:n.row.systemname,callback:function(o){e.$set(n.row,"systemname",o)},expression:"scope.row.systemname"}},e._l(n.row.optionsSystemName,function(e,t){return o("el-option",{key:e.value+t+n.$index,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"usercode",label:"工号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-select",{attrs:{disabled:!e.docStatus,filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":function(o){e.remoteMethodUserCode(o,n.$index,n.row)},loading:n.row.loadingUserCode},on:{change:function(o){e.selectChangeUserCode(o,n.$index,n.row)}},model:{value:n.row.usercode,callback:function(o){e.$set(n.row,"usercode",o)},expression:"scope.row.usercode"}},e._l(n.row.optionsUserCode,function(e,t){return o("el-option",{key:e.value+t+n.$index,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"usercname",label:"姓名",width:"200"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-select",{attrs:{disabled:!e.docStatus,filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":function(o){e.remoteMethodUserName(o,n.$index,n.row)},loading:n.row.loadingUserName},on:{change:function(o){e.selectChangeUserName(o,n.$index,n.row)}},model:{value:n.row.usercname,callback:function(o){e.$set(n.row,"usercname",o)},expression:"scope.row.usercname"}},e._l(n.row.optionsUserName,function(e,t){return o("el-option",{key:e.value+t+n.$index,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),e.docStatus?o("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-button",{staticClass:"button-table-operate",attrs:{type:"text"},on:{click:function(o){return e.handleDelete(n.$index,n.row)}}},[e._v("删除")]),e._v(" "),o("el-button",{staticClass:"button-table-operate",attrs:{type:"text"},on:{click:function(o){return e.handleCopy(n.$index,n.row)}}},[e._v("复制")])]}}],null,!1,131383827)}):e._e()],1)],1),e._v(" "),o("div",{staticClass:"form-bottom-button"},[e.docStatus?o("el-button",{staticClass:"button-base button-form-query",attrs:{type:"primary"},on:{click:function(n){return e.commitData()}}},[e._v("提交")]):e._e(),e._v(" "),o("el-button",{staticClass:"button-base button-form-query",attrs:{type:"primary"},on:{click:function(n){return e.closePage()}}},[e._v("关闭")])],1),e._v(" "),o("div",{staticClass:"toolbar pagination-base"},[e.docStatus?o("el-button",{staticClass:"pagination-button",on:{click:function(n){return e.handleTemplateDownload()}}},[e._v("模板下载")]):e._e(),e._v(" "),e.docStatus?o("div",{staticClass:"pagination-upload-container"},[o("nx-upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload,textName:"导入信息"}})],1):e._e()],1)])])])},staticRenderFns:[]};var h=o("VU/8")(g,f,!1,function(e){o("NR3G"),o("FJ/w")},"data-v-c9a448e4",null);n.default=h.exports}});